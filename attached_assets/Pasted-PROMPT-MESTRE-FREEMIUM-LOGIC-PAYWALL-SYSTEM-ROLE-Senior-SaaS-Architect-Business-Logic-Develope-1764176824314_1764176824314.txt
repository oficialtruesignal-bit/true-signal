PROMPT MESTRE: FREEMIUM LOGIC & PAYWALL SYSTEM
ROLE: Senior SaaS Architect & Business Logic Developer.

TASK: Implementar o modelo de neg√≥cio "Trial Limitado" no Ocean Signal. REGRAS DE NEG√ìCIO:

Usu√°rio Free: Tem 15 dias de acesso a partir do cadastro. V√™ apenas 1 Bilhete por dia.

Usu√°rio Premium: Acesso ilimitado a tudo.

Expira√ß√£o: Ap√≥s 15 dias, se n√£o for Premium, o acesso ao Dashboard √© totalmente bloqueado (Paywall).

Pre√ßo: R$ 99,87/m√™s.

1. ATUALIZA√á√ÉO DO BANCO DE DADOS (SUPABASE)
Execute ou instrua a execu√ß√£o deste SQL para preparar a tabela profiles:

SQL

-- Adiciona status da assinatura
ALTER TABLE public.profiles 
ADD COLUMN IF NOT EXISTS subscription_status TEXT DEFAULT 'trial', -- 'trial', 'active', 'expired'
ADD COLUMN IF NOT EXISTS trial_start_date TIMESTAMP WITH TIME ZONE DEFAULT NOW();
2. CRIA√á√ÉO DO HOOK DE ACESSO (useAccessControl.ts)
Crie um hook que centraliza a l√≥gica. Ele deve retornar:

daysRemaining: Quantos dias faltam para acabar o teste.

isLocked: Se o usu√°rio j√° passou dos 15 dias e n√£o √© premium.

canSeeAllTips: Se √© premium (true) ou trial (false).

L√≥gica:

TypeScript

const TRIAL_DAYS = 15;
const daysSinceSignup = differenceInDays(now, profile.created_at);
const isExpired = daysSinceSignup > TRIAL_DAYS && profile.subscription_status !== 'active';
3. IMPLEMENTA√á√ÉO NA UI
A. O Paywall (Tela de Bloqueio Total)
Crie uma p√°gina/componente LockedScreen.tsx.

Se isLocked === true, o App.tsx deve renderizar apenas esta tela, escondendo todo o resto.

Design: Fundo preto, √≠cone de cadeado vermelho gigante.

Texto: "Seu per√≠odo de degusta√ß√£o acabou."

CTA: Bot√£o "ASSINAR OCEAN PRIME - R$ 99,87" (Link externo para seu checkout).

B. A Lista de Bilhetes (Limitador Visual)
No SignalFeed.tsx:

Se !canSeeAllTips:

Renderize o 1¬∫ Bilhete normalmente.

Renderize o 2¬∫ e 3¬∫ Bilhetes com efeito Blur (Borrado) e um Overlay.

Overlay: √çcone de Cadeado üîí + Texto: "Exclusivo Ocean Prime. Assine para desbloquear."

C. Barra de Contagem Regressiva (Nudge)
No topo do Dashboard (apenas para usu√°rios Trial):

Uma barra fina (fixa ou dismissible) amarela ou laranja.

Texto: "Restam 12 dias de acesso gratuito. Garanta sua vaga no Prime."

Bot√£o: "Assinar Agora".

4. FLUXO DE PAGAMENTO (CHECKOUT)
O bot√£o de assinar deve ser um link <a> simples que abre o seu Checkout (Kiwi/PerfectPay/Stripe) em nova aba.

Nota: O sistema n√£o far√° o upgrade autom√°tico via webhook neste prompt (para n√£o complicar), o Admin poder√° alterar o status para active manualmente no banco ap√≥s confirmar o pagamento, ou prepararemos o webhook em um passo futuro.

COMANDO: Implemente a l√≥gica de trial de 15 dias. O sistema deve ser implac√°vel: passou do dia 15, bloqueia tudo. Enquanto estiver no prazo, mostre apenas a ponta do iceberg (1 tip) para deixar o usu√°rio com vontade de quero mais.